<!doctype html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Be My Valentine ðŸ’–</title>

<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

<style>

*{
  box-sizing:border-box;
  font-family:"Poppins","Comic Sans MS",sans-serif;
}

/* ðŸŒ¸ Background fleurs */
body{
  margin:0;
  min-height:100vh;

  background:
    url("https://www.transparenttextures.com/patterns/flowers.png"),
    linear-gradient(135deg,#ffd6e8,#ffeef5);

  background-size:200px,cover;
  background-repeat:repeat;

  display:flex;
  align-items:center;
  justify-content:center;
  padding:40px;
}

.card{
  background:white;
  width:520px;
  min-height:360px;
  padding:60px 50px;
  border-radius:36px;
  text-align:center;
  box-shadow:0 40px 80px rgba(0,0,0,0.18);
}

/* Images */
.top-media{
  display:flex;
  align-items:center;
  justify-content:center;
  gap:20px;
  margin-bottom:20px;
}

.main-img{ width:120px; }
.chat-gif{ width:120px; }

#usureImg{
  display:none;
  width:220px;
}

h1{
  font-size:24px;
  margin-bottom:40px;
}

.buttons{
  display:flex;
  justify-content:center;
  gap:24px;
}

button{
  border:none;
  padding:16px 30px;
  border-radius:999px;
  font-size:17px;
  cursor:pointer;
}

#yesBtn{
  background:#ff4d88;
  color:white;
}

#noBtn{
  background:#ccc;
  color:#555;
}

.note{
  margin-top:20px;
  font-size:14px;
  color:#999;
}

</style>
</head>

<body>

<div class="card">

  <div class="top-media">
    <img src="Poisson.png" class="main-img">
    <img id="usureImg" src="Usure.png">
    <img src="Chat.gif" class="chat-gif">
  </div>

  <h1>Poupou, veux-tu Ãªtre ma valentine?</h1>

  <div class="buttons">
    <button id="yesBtn">Oui ðŸ’–</button>
    <button id="noBtn">Non ðŸ™ƒ</button>
  </div>

  <div id="noMessage" class="note" style="display:none;">
    Non nâ€™est pas une option ðŸ˜ˆ
  </div>

</div>

<script>

const noBtn=document.getElementById("noBtn");
const yesBtn=document.getElementById("yesBtn");
const noMessage=document.getElementById("noMessage");
const usureImg=document.getElementById("usureImg");

let escapeCount=0;

function escapeNoButton(){

  noMessage.style.display="block";

  escapeCount++;

  /* ðŸ‘‡ Usure aprÃ¨s 7 */
  if(escapeCount>=7){
    usureImg.style.display="block";
  }

  /* ðŸ‘‡ Texte change aprÃ¨s 10 */
  if(escapeCount>=10){
    noBtn.innerText="Tu peux pas mâ€™attraper ðŸ˜œ";
  }

  const rect=noBtn.getBoundingClientRect();

  const x=Math.random()*(window.innerWidth-rect.width);
  const y=Math.random()*(window.innerHeight-rect.height);

  noBtn.style.position="fixed";
  noBtn.style.left=x+"px";
  noBtn.style.top=y+"px";
}

document.addEventListener("mousemove",(e)=>{
  const rect=noBtn.getBoundingClientRect();
  const cx=rect.left+rect.width/2;
  const cy=rect.top+rect.height/2;

  const distance=Math.hypot(e.clientX-cx,e.clientY-cy);
  if(distance<130)escapeNoButton();
});

document.addEventListener("touchstart",escapeNoButton);

yesBtn.addEventListener("click",()=>{
  const end=Date.now()+3500;

  (function frame(){
    confetti({
      particleCount:12,
      spread:90,
      colors:["#ff4d88","#ff99bb","#ffccd9"]
    });
    if(Date.now()<end)requestAnimationFrame(frame);
  })();
});

</script>

</body>
</html>
